<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <record id="project_team.project_project_members_form_view" model="ir.ui.view">
        <field name="active" eval="False" />
    </record>

    <record id="project_members_form_view" model="ir.ui.view">
        <field name="model">project.project</field>
        <field name="inherit_id" ref="project_partner_rol.edit_project_inh_partner_rol" />
        <field name="arch" type="xml">
            <field name="participant_ids" position="after">
                <label for="member_ids" />
                <field name="member_ids" nolabel="1"
                       context="{'default_project_id':active_id}">
                    <tree string="Project Team">
                        <field name="project_id" invisible="1" />
                        <field name="user_id" />
                    </tree>
                </field>
            </field>
        </field>
    </record>

    <record id="project_members_planned_hours_form_view" model="ir.ui.view">
        <field name="model">project.project</field>
        <field name="inherit_id" ref="project_team_partner_rol.project_members_form_view" />
        <field name="groups_id" eval="[(4, ref('project_partner_rol.group_planned_hours_project'))]"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='member_ids']/tree//field[@name='user_id']"
                   position="after">
                <field name="planned_hours_percentage" sum="Percentage" />
                <field name="project_planned_hours" string="By Project"
                       widget="float_time" sum="Project Hours" />
                <field name="task_planned_hours" string="By Tasks"
                       widget="float_time" sum="Task Hours" />
                <field name="monthly_planned_hours" widget="float_time" />
                <field name="monthly_task_planned_hours" widget="float_time" />
            </xpath>
        </field>
    </record>
</odoo>
